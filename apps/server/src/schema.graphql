# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type AuthResponse {
  accessToken: String!
  user: User!
}

type Contact {
  company: String
  createdAt: DateTime!
  email: String
  id: ID!
  interactions: [Interaction!]
  lastContactedAt: DateTime
  name: String!
  notes: String
  phone: String
  position: String
  priority: ContactPriority!
  status: ContactStatus!
  tags: [String!]!
  tasks: [Task!]
  updatedAt: DateTime!
  user: User
}

enum ContactPriority {
  HIGH
  LOW
  MEDIUM
  URGENT
}

enum ContactStatus {
  ACTIVE
  INACTIVE
  LEAD
  LOST
}

type ContactsStats {
  """Number of active contacts"""
  active: Int!

  """Number of inactive contacts"""
  inactive: Int!

  """Number of lead contacts"""
  leads: Int!

  """Total number of contacts"""
  total: Int!
}

input CreateContactInput {
  company: String
  email: String
  lastContactedAt: DateTime
  name: String!
  notes: String
  phone: String
  position: String
  priority: ContactPriority
  status: ContactStatus
  tags: [String!]! = []
}

input CreateInteractionInput {
  contactId: String!
  date: DateTime!
  notes: String
  type: InteractionType!
}

input CreateTaskInput {
  contactId: String
  description: String
  dueDate: DateTime!
  priority: TaskPriority
  status: TaskStatus
  title: String!
}

type DashboardStats {
  """Contacts statistics"""
  contacts: ContactsStats!

  """Interactions statistics"""
  interactions: InteractionsStats!

  """Tasks statistics"""
  tasks: TasksStats!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

type Interaction {
  contact: Contact
  createdAt: DateTime!
  date: DateTime!
  id: ID!
  notes: String
  type: InteractionType!
  updatedAt: DateTime!
  user: User
}

input InteractionFiltersInput {
  contactId: String
  dateFrom: DateTime
  dateTo: DateTime
  sortBy: InteractionSortField
  sortOrder: SortOrder
  type: InteractionType
}

enum InteractionSortField {
  CREATED_AT
  DATE
  TYPE
}

enum InteractionType {
  CALL
  EMAIL
  MEETING
  NOTE
}

type InteractionsStats {
  """Number of interactions this month"""
  thisMonth: Int!

  """Number of interactions this week"""
  thisWeek: Int!

  """Total number of interactions"""
  total: Int!
}

type MagicLinkResponse {
  expiresInMinutes: Int
  message: String!
  success: Boolean!
}

type Mutation {
  createContact(input: CreateContactInput!): Contact!
  createInteraction(input: CreateInteractionInput!): Interaction!
  createTask(input: CreateTaskInput!): Task!
  devLogin: AuthResponse!
  removeContact(id: String!): Contact!
  removeInteraction(id: String!): Interaction!
  removeTask(id: String!): Task!
  requestMagicLink(input: RequestMagicLinkInput!): MagicLinkResponse!
  updateContact(id: String!, input: UpdateContactInput!): Contact!
  updateInteraction(id: String!, input: UpdateInteractionInput!): Interaction!
  updateTask(id: String!, input: UpdateTaskInput!): Task!
  verifyMagicLink(input: VerifyMagicLinkInput!): AuthResponse!
}

type PaginatedContacts {
  hasNextPage: Boolean!
  hasPreviousPage: Boolean!
  items: [Contact!]!
  limit: Int!
  page: Int!
  total: Int!
  totalPages: Int!
}

input PaginationInput {
  limit: Int! = 20
  page: Int! = 1
}

type Query {
  contact(id: String!): Contact!
  contacts(pagination: PaginationInput): PaginatedContacts!

  """Get dashboard statistics for the current user"""
  dashboardStats: DashboardStats!

  """Health check endpoint"""
  hello: String!
  interaction(id: String!): Interaction!
  interactions(filters: InteractionFiltersInput, pagination: PaginationInput): [Interaction!]!
  me: User!
  task(id: String!): Task!
  tasks(filters: TaskFiltersInput, pagination: PaginationInput): [Task!]!
}

input RequestMagicLinkInput {
  email: String!
  name: String
}

enum SortOrder {
  ASC
  DESC
}

type Task {
  contact: Contact
  createdAt: DateTime!
  description: String
  dueDate: DateTime!
  id: ID!
  priority: TaskPriority!
  status: TaskStatus!
  title: String!
  updatedAt: DateTime!
  user: User
}

input TaskFiltersInput {
  contactId: String
  dueDateFrom: DateTime
  dueDateTo: DateTime
  priority: TaskPriority
  sortBy: TaskSortField
  sortOrder: SortOrder
  status: TaskStatus
}

enum TaskPriority {
  HIGH
  LOW
  MEDIUM
  URGENT
}

enum TaskSortField {
  CREATED_AT
  DUE_DATE
  PRIORITY
  STATUS
}

enum TaskStatus {
  DONE
  IN_PROGRESS
  TODO
}

type TasksStats {
  """Number of completed tasks"""
  completed: Int!

  """Number of high priority tasks"""
  highPriority: Int!

  """Number of pending tasks (TODO + IN_PROGRESS)"""
  pending: Int!

  """Total number of tasks"""
  total: Int!
}

input UpdateContactInput {
  company: String
  email: String
  lastContactedAt: DateTime
  name: String
  notes: String
  phone: String
  position: String
  priority: ContactPriority
  status: ContactStatus
  tags: [String!] = []
}

input UpdateInteractionInput {
  contactId: String
  date: DateTime
  notes: String
  type: InteractionType
}

input UpdateTaskInput {
  contactId: String
  description: String
  dueDate: DateTime
  priority: TaskPriority
  status: TaskStatus
  title: String
}

type User {
  contacts: [Contact!]
  createdAt: DateTime!
  email: String!
  id: ID!
  interactions: [Interaction!]
  name: String
  tasks: [Task!]
  updatedAt: DateTime!
}

input VerifyMagicLinkInput {
  token: String!
}